def gauss_solver(A, b):
    # Получаем размерность системы (количество уравнений)
    n = len(A)
    
    # ПРЯМОЙ ХОД МЕТОДА ГАУССА
    # Преобразуем матрицу к верхнетреугольному виду
    # row - текущая строка, которую используем для исключения переменных
    for row in range(n):
        # next_row - строки ниже текущей, из которых будем исключать переменную
        for next_row in range(row + 1, n):
            # Вычисляем множитель: элемент под диагональю / диагональный элемент
            factor = A[next_row][row] / A[row][row]
            
            # Преобразуем всю строку next_row:
            # Вычитаем из каждого элемента строки next_row 
            # соответствующий элемент строки row, умноженный на factor
            # zip(A[next_row], A[row]) создает пары элементов из двух строк
            A[next_row] = [a - factor * b for a, b in zip(A[next_row], A[row])]
            
            # Аналогично преобразуем правую часть уравнения
            b[next_row] -= factor * b[row]
    
    # ОБРАТНЫЙ ХОД МЕТОДА ГАУССА
    # Находим решение системы, начиная с последнего уравнения
    solution = []  # Здесь будем накапливать найденные значения переменных
    
    # Идем по строкам снизу вверх (от последней к первой)
    for row in range(n - 1, -1, -1):
        # Вычисляем сумму известных слагаемых:
        # Умножаем коэффициенты при уже найденных переменных на их значения
        # solution[n-1-col] - это хитрая индексация, т.к. solution заполняется с конца
        # col - это индекс столбца (переменной)
        # solution[n-1-col] - получаем значение переменной x_col из solution
        known = sum(A[row][col] * solution[n-1-col] for col in range(row + 1, n))
        
        # Находим значение текущей переменной:
        # (свободный член - сумма известных) / коэффициент при переменной
        solution.append((b[row] - known) / A[row][row])
    
    # solution содержит значения в обратном порядке [z, y, x]
    # переворачиваем список, чтобы получить [x, y, z]
    return solution[::-1]

# Использование функции

# Матрица коэффициентов системы уравнений:
# 2x + 1y - 1z = 8
# -3x - 1y + 2z = -11
# -2x + 1y + 2z = -3
A = [[2, 2, -1],
     [-3, -1, 2],
     [-2, 1, 2]]

# Вектор правых частей уравнений
b = [8, -11, -3]

# Вызываем функцию решения и получаем значения x, y, z
x, y, z = gauss_solver(A, b)

# Выводим результат
print(f"Ответ: x={x}, y={y}, z={z}")
#############################################################################################
def gauss_solver(A, b):
    n = len(A)
    
    # Прямой ход
    for row in range(n):
        for next_row in range(row + 1, n):
            factor = A[next_row][row] / A[row][row]
            A[next_row] = [a - factor * b for a, b in zip(A[next_row], A[row])]
            b[next_row] -= factor * b[row]
    
    # Обратный ход
    solution = []
    for row in range(n - 1, -1, -1):
        known = sum(A[row][col] * solution[n-1-col] for col in range(row + 1, n))
        solution.append((b[row] - known) / A[row][row])
    
    return solution[::-1]

# Использование
A = [[2, 1, -1],
     [-3, -1, 2],
     [-2, 1, 2]]
b = [8, -11, -3]

x, y, z = gauss_solver(A, b)
print(f"Ответ: x={x}, y={y}, z={z}")
